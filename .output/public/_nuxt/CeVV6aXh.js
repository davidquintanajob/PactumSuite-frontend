import{_ as k}from"./BM2ibBGv.js";import{N as C}from"./DTHag2Fn.js";import{_ as S}from"./CP6NTKUH.js";import{S as M}from"./CC2Sf2Ne.js";import{_ as V,k as j,r as v,o as z,y as u,C as m,F as f,A as t,G as B,H as d,B as g,q as c,n as $,z as x}from"#entry";import"./BzLCLO6P.js";const N={class:"min-h-screen flex flex-col bg-gradient-to-br via-secondary/40 from-accent/30 to-neutral"},P={key:0,class:"fixed top-6 left-1/2 transform -translate-x-1/2 z-[9999] w-full max-w-md px-4 pointer-events-none"},H={class:"mt-8 md:mt-0 flex-1 flex flex-col"},I={class:"flex-1 flex flex-col items-center justify-center px-4"},T={class:"grid grid-cols-1 md:grid-cols-5 gap-8 max-w-7xl w-full mb-12"},E={key:0,class:"absolute -top-2 -right-2 bg-danger text-neutral text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center shadow-lg"},L={class:"w-full py-6 text-center text-dark text-sm bg-transparent mt-auto"},D={__name:"index",setup(_){const h=()=>c("/login"),n=a=>{localStorage.getItem("token")?c(`/${a}`):c("/login")},s=j(()=>{try{if(typeof window>"u"||!localStorage)return!1;const a=localStorage.getItem("usuario");if(!a)return!1;const e=JSON.parse(a),r=e?.rol||e?.role||e?.perfil||e?.profile;return r?String(r).trim().toLowerCase()==="vendedor":!1}catch{return!1}}),o=v(null),i=v(0),w=async()=>{const a=localStorage.getItem("token");if(a)try{o.value={title:"Verificando Contratos",description:"Comprobando si hay contratos próximos a vencer...",type:"warning",persistent:!1};const e=$(),r=await fetch(`${e.public.backendHost}/contrato/proximos-a-vencer`,{method:"GET",headers:{Authorization:a}});if(r.status===401){o.value={title:"Sesión Expirada",description:"Tu sesión ha expirado. Por favor, inicia sesión nuevamente.",type:"warning",persistent:!1},localStorage.removeItem("token"),localStorage.removeItem("user"),setTimeout(()=>{c("/")},3e3);return}if(r.status===403){o.value={title:"Acceso Denegado",description:"No tienes permisos para realizar esta acción o acceder a esta información.",type:"error",persistent:!1};return}const l=await r.json();if(l.count>0){const b=l.data.map(p=>p.entidad?.nombre).filter(p=>p),y=[...new Set(b)].join(", ");i.value=l.count,o.value={title:"Contratos Próximos a Vencer",description:`Hay ${l.count} contrato(s) próximo(s) a vencer de las entidades: ${y}`,type:"warning",persistent:!0}}else i.value=0,o.value={title:"Sin Contratos Próximos a Vencer",description:"No hay contratos próximos a vencer en este momento.",type:"success",persistent:!1}}catch(e){console.error("Error al verificar contratos próximos a vencer:",e),o.value={title:"Error de Verificación",description:"No se pudo verificar los contratos próximos a vencer.",type:"error",persistent:!1}}};return z(()=>{w()}),(a,e)=>(x(),u("div",N,[m(M,{title:"Inicio - Pactum",description:"La plataforma integral para la gestión eficiente de contratos, entidades y trabajadores.",canonical:"/"}),m(C),o.value?(x(),u("div",P,[m(S,{title:o.value.title,description:o.value.description,type:o.value.type,persistent:o.value.persistent,onClose:e[0]||(e[0]=r=>o.value=null),class:"pointer-events-auto"},null,8,["title","description","type","persistent"])])):f("",!0),t("div",H,[e[13]||(e[13]=B('<header class="flex flex-col items-center justify-center py-12" data-v-72cee54b><img src="'+k+'" alt="Logo" class="h-40 w-40 shadow-md mb-4" data-v-72cee54b><h1 class="text-4xl md:text-5xl font-extrabold text-primary/80 mb-2 text-center drop-shadow" data-v-72cee54b>Pactum Suite</h1><h1 class="text-2xl md:text-3xl text-primary/80 mb-2 text-center drop-shadow" data-v-72cee54b>Beta Vercion (1.0)</h1><p class="text-lg md:text-xl text-dark/70 text-center max-w-2xl" data-v-72cee54b>La plataforma integral para la gestión eficiente de contratos, entidades, facturas y productos de tu organización orientado al comercio.</p></header>',1)),t("section",I,[t("div",T,[t("div",{onClick:e[1]||(e[1]=r=>!s.value&&n("contratos")),class:d([s.value?"pointer-events-none opacity-60 cursor-not-allowed":"cursor-pointer hover:shadow-lg","bg-white rounded-xl shadow p-6 flex flex-col items-center transition group"])},[...e[6]||(e[6]=[t("svg",{class:"h-12 w-12 text-primary mb-4 group-hover:brightness-90 transition",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})],-1),t("h3",{class:"text-xl font-semibold text-primary mb-2"},"Contratos",-1),t("p",{class:"text-dark text-center"},"Gestiona todos los contratos de tu organización.",-1)])],2),t("div",{onClick:e[2]||(e[2]=r=>!s.value&&n("entidades")),class:d([s.value?"pointer-events-none opacity-60 cursor-not-allowed":"cursor-pointer hover:shadow-lg","bg-white rounded-xl shadow p-6 flex flex-col items-center transition group relative"])},[i.value>0?(x(),u("div",E,g(i.value),1)):f("",!0),e[7]||(e[7]=t("svg",{class:"h-12 w-12 text-accent mb-4 group-hover:text-primary transition",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e[8]||(e[8]=t("h3",{class:"text-xl font-semibold text-primary mb-2"},"Entidades",-1)),e[9]||(e[9]=t("p",{class:"text-dark text-center"},"Administra proveedores, clientes y otras entidades.",-1))],2),t("div",{onClick:e[3]||(e[3]=r=>!s.value&&n("facturas")),class:d([s.value?"pointer-events-none opacity-60 cursor-not-allowed":"cursor-pointer hover:shadow-lg","bg-white rounded-xl shadow p-6 flex flex-col items-center transition group"])},[...e[10]||(e[10]=[t("svg",{class:"h-12 w-12 text-accent mb-4 group-hover:text-primary transition",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),t("h3",{class:"text-xl font-semibold text-primary mb-2"},"Facturas",-1),t("p",{class:"text-dark text-center"},"Consulta y administra las facturas asociadas a contratos.",-1)])],2),t("div",{onClick:e[4]||(e[4]=r=>n("productos")),class:"bg-white rounded-xl shadow p-6 flex flex-col items-center hover:shadow-lg transition cursor-pointer group"},[...e[11]||(e[11]=[t("svg",{class:"h-12 w-12 text-accent mb-4 group-hover:text-primary transition",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})],-1),t("h3",{class:"text-xl font-semibold text-primary mb-2"},"Productos",-1),t("p",{class:"text-dark text-center"},"Gestiona los productos que tienes para la venta y la existencia de estos.",-1)])]),t("div",{onClick:e[5]||(e[5]=r=>!s.value&&n("trabajadores")),class:d([s.value?"pointer-events-none opacity-60 cursor-not-allowed":"cursor-pointer hover:shadow-lg","bg-white rounded-xl shadow p-6 flex flex-col items-center transition group"])},[...e[12]||(e[12]=[t("svg",{class:"h-12 w-12 text-accent mb-4 group-hover:text-primary transition",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1),t("h3",{class:"text-xl font-semibold text-primary mb-2"},"Trabajadores",-1),t("p",{class:"text-dark text-center"},"Registra y gestiona trabajadores autorizados y sus contratos.",-1)])],2)]),t("button",{onClick:h,class:"mt-4 px-8 py-3 bg-primary text-neutral text-lg font-semibold rounded-full shadow hover:bg-primary/90 transition"},"Iniciar sesión")]),t("footer",L," © "+g(new Date().getFullYear())+" Pactum Suite. Desarrollado por David Quintana Valdés, Soporte: +53 56242671 ",1)])]))}},J=V(D,[["__scopeId","data-v-72cee54b"]]);export{J as default};
