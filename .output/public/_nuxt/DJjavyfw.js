import{r as i,M as ae,y as c,F as C,z as v,A as e,C as h,B as I,J as le,K as b,L as y,$ as F,G as J,H as q,E as P,_ as ie,o as ue,R as z,n as de,q as K,h as D}from"#entry";import{S as ce}from"./CC2Sf2Ne.js";import{N as ve}from"./DTHag2Fn.js";import{D as pe}from"./DIpJa8iN.js";import{_ as Q}from"./CP6NTKUH.js";import{_ as ge}from"./DWLPyndB.js";import{u as G,w as me}from"./3SA47z_C.js";import"./BzLCLO6P.js";const fe={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"},be={key:0,class:"fixed top-6 left-1/2 transform -translate-x-1/2 z-[9999] w-full max-w-md px-4 pointer-events-none"},ye={class:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto"},we={class:"flex justify-between items-center mb-6"},xe={class:"text-2xl font-bold text-gray-800"},ke={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},he=["readonly","disabled"],Ce=["readonly","disabled"],Ve=["readonly","disabled"],Ee=["readonly","disabled"],$e=["readonly","disabled"],Ue={key:0},Ie=["readonly","disabled","placeholder","required"],Se={key:1},je={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},_e={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Me={key:2},Ae=["disabled"],Be={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Te={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ne={key:0,class:"flex justify-end space-x-4 mt-6"},ze=["disabled"],De=["disabled"],Pe={key:0,class:"flex items-center"},qe={key:1},Le={key:0,class:"text-red-600 text-sm mt-2"},He={__name:"UsuarioModal",props:{modelValue:{type:Boolean,required:!0},usuario:{type:Object,default:()=>({})},isEditing:{type:Boolean,default:!1},isViewing:{type:Boolean,default:!1}},emits:["update:modelValue","submit"],setup(V,{emit:w}){const s=V,x=w,r=i({nombre:"",nombre_usuario:"",cargo:"",rol:"",contrasenna:"",activo:!0}),f=i(""),d=i(!1),m=i(null);ae(()=>s.usuario,g=>{g&&Object.keys(g).length>0?(r.value={...g},r.value.contrasenna="",typeof r.value.carnet_identidad>"u"&&(r.value.carnet_identidad=""),typeof r.value.activo>"u"&&(r.value.activo=!0)):r.value={nombre:"",nombre_usuario:"",cargo:"",rol:"",carnet_identidad:"",contrasenna:"",activo:!0}},{immediate:!0});const L=()=>{r.value.activo=!r.value.activo},_=async()=>{f.value="";const g=!s.isViewing&&!s.isEditing;if(!r.value.nombre||!r.value.nombre_usuario||!r.value.cargo||!r.value.rol||g&&!r.value.contrasenna||!r.value.carnet_identidad){f.value="Todos los campos son obligatorios.";return}const o=String(r.value.carnet_identidad||"").trim();if(!/^\d{11}$/.test(o)){f.value="El carnet de identidad debe contener exactamente 11 dígitos numéricos.";return}d.value=!0,m.value={title:s.isEditing?"Guardando Usuario":"Creando Usuario",description:"Comunicando con el servidor, espere por favor...",type:"warning"};try{await new Promise((n,E)=>{x("submit",r.value),setTimeout(n,100)})}catch(n){console.error("Error en handleSubmit:",n)}finally{setTimeout(()=>{d.value=!1,m.value=null},500)}};return(g,o)=>V.modelValue?(v(),c("div",fe,[m.value?(v(),c("div",be,[h(Q,{title:m.value.title,description:m.value.description,type:m.value.type,onClose:o[0]||(o[0]=n=>m.value=null),class:"pointer-events-auto"},null,8,["title","description","type"])])):C("",!0),e("div",ye,[e("div",we,[e("h2",xe,I(s.isViewing?"Detalles de Usuario":V.isEditing?"Editar Usuario":"Nuevo Usuario"),1),e("button",{onClick:o[1]||(o[1]=n=>g.$emit("update:modelValue",!1)),class:"text-gray-500 hover:text-gray-700"},[...o[10]||(o[10]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:le(_,["prevent"]),class:"space-y-4"},[e("div",ke,[e("div",null,[o[11]||(o[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nombre",-1)),b(e("input",{"onUpdate:modelValue":o[2]||(o[2]=n=>r.value.nombre=n),type:"text",class:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",required:"",readonly:s.isViewing,disabled:s.isViewing||d.value,placeholder:"Ingrese el nombre"},null,8,he),[[y,r.value.nombre]])]),e("div",null,[o[12]||(o[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nombre de Usuario",-1)),b(e("input",{"onUpdate:modelValue":o[3]||(o[3]=n=>r.value.nombre_usuario=n),type:"text",class:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",required:"",readonly:s.isViewing,disabled:s.isViewing||d.value,placeholder:"Ingrese el nombre de usuario"},null,8,Ce),[[y,r.value.nombre_usuario]])]),e("div",null,[o[13]||(o[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Cargo",-1)),b(e("input",{"onUpdate:modelValue":o[4]||(o[4]=n=>r.value.cargo=n),type:"text",class:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",required:"",readonly:s.isViewing,disabled:s.isViewing||d.value,placeholder:"Ingrese el cargo"},null,8,Ve),[[y,r.value.cargo]])]),e("div",null,[o[15]||(o[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Rol",-1)),b(e("select",{"onUpdate:modelValue":o[5]||(o[5]=n=>r.value.rol=n),class:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",readonly:s.isViewing,disabled:s.isViewing||d.value,required:""},[...o[14]||(o[14]=[J('<option value="">Seleccione un rol</option><option value="Administrador">Administrador</option><option value="Comercial">Comercial</option><option value="Invitado">Invitado</option><option value="Vendedor">Vendedor</option>',5)])],8,Ee),[[F,r.value.rol]])]),e("div",null,[o[16]||(o[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Carnet de Identidad",-1)),b(e("input",{"onUpdate:modelValue":o[6]||(o[6]=n=>r.value.carnet_identidad=n),type:"text",inputmode:"numeric",class:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",required:"",readonly:s.isViewing,disabled:s.isViewing||d.value,placeholder:"Ingrese el carnet (11 dígitos)",maxlength:"11",pattern:"\\d{11}",onInput:o[7]||(o[7]=n=>{r.value.carnet_identidad=String(n.target.value||"").replace(/\D+/g,"").slice(0,11)})},null,40,$e),[[y,r.value.carnet_identidad]])]),s.isViewing?(v(),c("div",Se,[o[20]||(o[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Activo",-1)),e("button",{type:"button",class:q(["flex items-center px-3 py-2 rounded-lg border",r.value.activo?"bg-green-100 border-green-400 text-green-700":"bg-red-100 border-red-400 text-red-700"]),disabled:""},[r.value.activo?(v(),c("svg",je,[...o[18]||(o[18]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):(v(),c("svg",_e,[...o[19]||(o[19]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])),P(" "+I(r.value.activo?"Activo":"Inactivo"),1)],2)])):(v(),c("div",Ue,[o[17]||(o[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Contraseña",-1)),b(e("input",{"onUpdate:modelValue":o[8]||(o[8]=n=>r.value.contrasenna=n),type:"password",class:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",readonly:s.isViewing,disabled:s.isViewing||d.value,placeholder:s.isEditing?"Dejar vacío para mantener la contraseña actual":"Ingrese la contraseña",autocomplete:"new-password",required:!s.isEditing},null,8,Ie),[[y,r.value.contrasenna]])])),s.isEditing&&!s.isViewing?(v(),c("div",Me,[o[23]||(o[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Estado",-1)),e("button",{type:"button",onClick:L,class:q(["flex items-center px-3 py-2 rounded-lg border transition-colors duration-200 hover:opacity-80",r.value.activo?"bg-green-100 border-green-400 text-green-700 hover:bg-green-200":"bg-red-100 border-red-400 text-red-700 hover:bg-red-200"]),disabled:d.value},[r.value.activo?(v(),c("svg",Be,[...o[21]||(o[21]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):(v(),c("svg",Te,[...o[22]||(o[22]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])),P(" "+I(r.value.activo?"Activo":"Inactivo"),1)],10,Ae)])):C("",!0)]),s.isViewing?C("",!0):(v(),c("div",Ne,[e("button",{type:"button",onClick:o[9]||(o[9]=n=>g.$emit("update:modelValue",!1)),class:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:d.value}," Cancelar ",8,ze),e("button",{type:"submit",class:"px-4 py-2 text-neutral bg-primary rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed",disabled:d.value},[d.value?(v(),c("span",Pe,[o[24]||(o[24]=e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),P(" "+I(V.isEditing?"Guardando...":"Creando..."),1)])):(v(),c("span",qe,I(V.isEditing?"Guardar Cambios":"Crear Usuario"),1))],8,De)]))],32),f.value?(v(),c("div",Le,I(f.value),1)):C("",!0)])])):C("",!0)}},Re={class:"min-h-screen bg-gradient-to-br via-secondary/40 from-accent/30 to-neutral"},Oe={key:0,class:"fixed top-6 left-1/2 transform -translate-x-1/2 z-[9999] w-full max-w-md px-4 pointer-events-none"},Ke={key:1,class:"fixed top-24 left-1/2 transform -translate-x-1/2 z-[10000] w-full max-w-md px-4 pointer-events-auto"},Ge={class:"w-[95%] mx-auto px-4 py-4 md:py-4 mt-20 md:mt-0"},Fe={class:"bg-white rounded-lg shadow-md p-4"},Je={class:"mb-4"},Qe={class:"relative"},We={class:"md:hidden flex justify-between items-center mb-4"},Xe={class:"w-full"},Ye={class:"relative"},Ze={class:"w-full"},eo={class:"w-full"},oo={class:"w-full"},to={class:"w-[95%] mx-auto px-4 py-4"},ro={__name:"usuarios",setup(V){const w=i(""),s=i(""),x=i(""),r=i(""),f=i(""),d=i(!1),m=de(),L=[{key:"id_usuario",label:"ID"},{key:"nombre",label:"Nombre de la Persona"},{key:"carnet_identidad",label:"Carnet Identidad"},{key:"nombre_usuario",label:"Nombre de Usuario"},{key:"cargo",label:"Cargo"},{key:"rol",label:"Rol"},{key:"activo",label:"Activo",cellRenderer:a=>a===!0||a===1||a==="true"||a==="1"?'<span class="px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">Activo</span>':'<span class="px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full">Inactivo</span>'}],_={render(){return D("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-neutral",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[D("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])}},g=i(1),o=i(0),n=i(!1),E=i(20),M=i([]),A=async(a=1,t=20,l="",u="",U="",te="",re="")=>{try{n.value=!0;const R=localStorage.getItem("token"),se={nombre:l,nombre_usuario:u,cargo:U,rol:te,carnet_identidad:re},O=await fetch(`${m.public.backendHost}/Usuario/filterUsers`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:R,Accept:"application/json"},body:JSON.stringify(se)});if(O.status===401){p.value={title:"Sesión Expirada",description:"Tu sesión ha expirado. Por favor, inicia sesión nuevamente.",type:"warning"},localStorage.removeItem("token"),localStorage.removeItem("user"),setTimeout(()=>{K("/")},3e3);return}if(O.status===403){p.value={title:"Acceso Denegado",description:"No tienes permisos para realizar esta acción o acceder a esta información.",type:"error"};return}const ne=await O.json();M.value=ne||[],o.value=M.value.length}catch(R){console.error("Error al cargar los usuarios:",R)}finally{n.value=!1}},W=a=>{g.value=a};ue(()=>{A(1,E.value,"","","","",r.value)});const H=[{name:"Editar",icon:{render(){return D("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[D("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])}},handler:a=>{j.value={...a},k.value=!0,B.value=!1,S.value=!0}},{name:"Eliminar",icon:_,handler:a=>{N.value=a,T.value=!0}}];H[0].buttonClass="px-3 py-1 bg-accent text-neutral rounded-md hover:bg-accent/90",H[1].buttonClass="px-3 py-1 bg-danger text-neutral rounded-md hover:bg-danger/90";const X=a=>{j.value=a,k.value=!1,B.value=!0,S.value=!0},$=async()=>{try{n.value=!0,await A(1,E.value,w.value,s.value,x.value,f.value,r.value)}catch(a){console.error("Error al buscar usuarios:",a)}finally{n.value=!1}},p=i(null),S=i(!1),j=i({}),k=i(!1),B=i(!1);function Y(){j.value={},k.value=!1,B.value=!1,S.value=!0}const Z=async a=>{try{const t=localStorage.getItem("token"),l=k.value?`${m.public.backendHost}/usuario/UpdateUsuario/${j.value.id_usuario}`:`${m.public.backendHost}/usuario/CreateUsuario`;console.log(a);const u=await fetch(l,{method:k.value?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:t,Accept:"application/json"},body:JSON.stringify(a)});if(u.status===401){p.value={title:"Sesión Expirada",description:"Tu sesión ha expirado. Por favor, inicia sesión nuevamente.",type:"warning"},localStorage.removeItem("token"),localStorage.removeItem("user"),setTimeout(()=>{K("/")},3e3);return}if(u.status===403){p.value={title:"Acceso Denegado",description:"No tienes permisos para realizar esta acción o acceder a esta información.",type:"error"};return}if(u.status===400||u.status===500){const U=await u.json();console.log(U),U.errors?p.value={title:`Errores de validación: ${u.status}`,description:U.errors,type:"error"}:p.value={title:`Error: ${u.status}`,description:JSON.stringify(U),type:"error"};return}u.ok?(k.value?p.value={title:`Entidad Actualizada: ${u.status}`,description:`El usuario ${a.nombre} se actualizó con éxito`,type:"success"}:p.value={title:`Entidad Creada: ${u.status}`,description:`El usuario ${a.nombre} se creo con éxito`,type:"success"},await A(g.value,E.value,w.value,s.value,x.value,f.value,r.value)):console.error("Error al guardar Usuario")}catch(t){console.error("Error:",t)}},T=i(!1),N=i(null);async function ee(){if(T.value=!1,!!N.value)try{const a=localStorage.getItem("token"),t=await fetch(`${m.public.backendHost}/Usuario/DeleteUsuario/${N.value.id_usuario}`,{method:"DELETE",headers:{Authorization:a,Accept:"application/json"}});if(t.status===401){p.value={title:"Sesión Expirada",description:"Tu sesión ha expirado. Por favor, inicia sesión nuevamente.",type:"warning"},localStorage.removeItem("token"),localStorage.removeItem("user"),setTimeout(()=>{K("/")},3e3);return}if(t.status===403){p.value={title:"Acceso Denegado",description:"No tienes permisos para realizar esta acción o acceder a esta información.",type:"error"};return}if(!t.ok)return;await A(g.value,E.value,w.value,s.value,x.value,f.value,r.value)}catch{}finally{N.value=null}}function oe(){const a=M.value.map(u=>({ID:u.id_usuario,Nombre:u.nombre,Usuario:u.nombre_usuario,"Carnet Identidad":u.carnet_identidad||"",Rol:u.rol})),t=G.json_to_sheet(a),l=G.book_new();G.book_append_sheet(l,t,"Usuarios"),me(l,"usuarios.xlsx")}return(a,t)=>(v(),c("div",Re,[h(ce,{title:"Usuarios - Contract Manager",description:"Gestiona usuarios, roles y permisos en Contract Manager.",canonical:"/usuarios"}),h(ve),p.value?(v(),c("div",Oe,[h(Q,{title:p.value.title,description:p.value.description,type:p.value.type,onClose:t[0]||(t[0]=l=>p.value=null),class:"pointer-events-auto"},null,8,["title","description","type"])])):C("",!0),T.value?(v(),c("div",Ke,[h(ge,{title:"¿Estás seguro que deseas eliminar este usuario?",description:"Esta acción no se puede deshacer.",icon:_,type:"warning",onConfirm:ee,onClose:t[1]||(t[1]=l=>T.value=!1)})])):C("",!0),e("div",Ge,[e("div",Fe,[e("div",Je,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Buscar por nombre",-1)),e("div",Qe,[b(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=l=>w.value=l),placeholder:"Ingrese el nombre...",class:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyup:z($,["enter"])},null,544),[[y,w.value]]),t[10]||(t[10]=e("div",{class:"absolute left-3 top-2.5"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),e("div",We,[e("button",{onClick:t[3]||(t[3]=l=>d.value=!d.value),class:"flex items-center text-blue-500 hover:text-blue-600"},[t[13]||(t[13]=e("span",{class:"mr-2"},"Filtros adicionales",-1)),(v(),c("svg",{xmlns:"http://www.w3.org/2000/svg",class:q(["h-5 w-5 transform transition-transform",{"rotate-180":d.value}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...t[12]||(t[12]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),e("div",{class:q(["grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",{"hidden md:grid":!d.value}])},[e("div",Xe,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Buscar por nombre de usuario",-1)),e("div",Ye,[b(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=l=>s.value=l),placeholder:"Ingrese nombre de usuario...",class:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyup:z($,["enter"])},null,544),[[y,s.value]]),t[14]||(t[14]=e("div",{class:"absolute left-3 top-2.5"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),e("div",Ze,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Cargo",-1)),b(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=l=>x.value=l),placeholder:"Ingrese cargo",class:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyup:z($,["enter"])},null,544),[[y,x.value]])]),e("div",eo,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Rol",-1)),b(e("select",{"onUpdate:modelValue":t[6]||(t[6]=l=>f.value=l),class:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:$},[...t[17]||(t[17]=[J('<option value="" data-v-f82ac173>Todos los roles</option><option value="Administrador" data-v-f82ac173>Administrador</option><option value="Comercial" data-v-f82ac173>Comercial</option><option value="Invitado" data-v-f82ac173>Invitado</option><option value="Vendedor" data-v-f82ac173>Vendedor</option>',5)])],544),[[F,f.value]])]),e("div",oo,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Carnet de Identidad",-1)),b(e("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=l=>r.value=l),inputmode:"numeric",placeholder:"Solo dígitos (máx. 11)",class:"w-full pl-3 pr-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",maxlength:"11",onInput:t[8]||(t[8]=l=>{r.value=String(l.target.value||"").replace(/\D+/g,"").slice(0,11)}),onKeyup:z($,["enter"])},null,544),[[y,r.value]])])],2),e("div",{class:"flex justify-end mt-4 gap-2"},[e("button",{onClick:$,class:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors"}," Buscar "),e("button",{onClick:oe,class:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors"}," Exportar a Excel ")])])]),e("div",to,[e("div",{class:"flex justify-between items-center mb-4"},[t[21]||(t[21]=e("h2",{class:"text-2xl font-bold"},"Usuarios",-1)),e("button",{onClick:Y,class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center"},[...t[20]||(t[20]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),P(" Nuevo Usuario ",-1)])])]),h(pe,{columns:L,items:M.value,actions:H,"total-items":o.value,"items-per-page":E.value,"current-page":g.value,"is-loading":n.value,onPageChange:W,onRowClick:X},null,8,["items","total-items","items-per-page","current-page","is-loading"])]),h(He,{modelValue:S.value,"onUpdate:modelValue":t[9]||(t[9]=l=>S.value=l),usuario:j.value,"is-editing":k.value,"is-viewing":B.value,onSubmit:Z},null,8,["modelValue","usuario","is-editing","is-viewing"])]))}},po=ie(ro,[["__scopeId","data-v-f82ac173"]]);export{po as default};
