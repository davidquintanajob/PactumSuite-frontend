import{r as i,J as ne,x as c,E as C,y as v,z as e,B as h,A as U,F as le,G as f,H as y,S as F,I as q,D as P,_ as ae,o as ie,Q as D,n as ue,q as G,h as N}from"./DLx_sSSf.js";import{S as de}from"./tYk8DSAs.js";import{N as ce}from"./uqRIYar1.js";import{D as ve}from"./B1U57Od_.js";import{_ as J}from"./DTo_Qbs3.js";import{_ as pe}from"./DlY85phm.js";import{u as K,w as ge}from"./3SA47z_C.js";import"./ETKJmL_A.js";const me={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"},be={key:0,class:"fixed top-6 left-1/2 transform -translate-x-1/2 z-[9999] w-full max-w-md px-4 pointer-events-none"},fe={class:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto"},ye={class:"flex justify-between items-center mb-6"},we={class:"text-2xl font-bold text-gray-800"},xe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ke=["readonly","disabled"],he=["readonly","disabled"],Ce=["readonly","disabled"],Ve=["readonly","disabled"],Ee=["readonly","disabled"],$e={key:0},Ie=["readonly","disabled","placeholder","required"],Ue={key:1},Se={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},je={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},_e={key:2},Me=["disabled"],Ae={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Be={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Te={key:0,class:"flex justify-end space-x-4 mt-6"},ze=["disabled"],De=["disabled"],Ne={key:0,class:"flex items-center"},Pe={key:1},qe={key:0,class:"text-red-600 text-sm mt-2"},He={__name:"UsuarioModal",props:{modelValue:{type:Boolean,required:!0},usuario:{type:Object,default:()=>({})},isEditing:{type:Boolean,default:!1},isViewing:{type:Boolean,default:!1}},emits:["update:modelValue","submit"],setup(V,{emit:w}){const r=V,x=w,s=i({nombre:"",nombre_usuario:"",cargo:"",rol:"",contrasenna:"",activo:!0}),b=i(""),d=i(!1),m=i(null);ne(()=>r.usuario,g=>{g&&Object.keys(g).length>0?(s.value={...g},s.value.contrasenna="",typeof s.value.carnet_identidad>"u"&&(s.value.carnet_identidad=""),typeof s.value.activo>"u"&&(s.value.activo=!0)):s.value={nombre:"",nombre_usuario:"",cargo:"",rol:"",carnet_identidad:"",contrasenna:"",activo:!0}},{immediate:!0});const H=()=>{s.value.activo=!s.value.activo},_=async()=>{b.value="";const g=!r.isViewing&&!r.isEditing;if(!s.value.nombre||!s.value.nombre_usuario||!s.value.cargo||!s.value.rol||g&&!s.value.contrasenna||!s.value.carnet_identidad){b.value="Todos los campos son obligatorios.";return}const o=String(s.value.carnet_identidad||"").trim();if(!/^\d{11}$/.test(o)){b.value="El carnet de identidad debe contener exactamente 11 dígitos numéricos.";return}d.value=!0,m.value={title:r.isEditing?"Guardando Usuario":"Creando Usuario",description:"Comunicando con el servidor, espere por favor...",type:"warning"};try{await new Promise((n,E)=>{x("submit",s.value),setTimeout(n,100)})}catch(n){console.error("Error en handleSubmit:",n)}finally{setTimeout(()=>{d.value=!1,m.value=null},500)}};return(g,o)=>V.modelValue?(v(),c("div",me,[m.value?(v(),c("div",be,[h(J,{title:m.value.title,description:m.value.description,type:m.value.type,onClose:o[0]||(o[0]=n=>m.value=null),class:"pointer-events-auto"},null,8,["title","description","type"])])):C("",!0),e("div",fe,[e("div",ye,[e("h2",we,U(r.isViewing?"Detalles de Usuario":V.isEditing?"Editar Usuario":"Nuevo Usuario"),1),e("button",{onClick:o[1]||(o[1]=n=>g.$emit("update:modelValue",!1)),class:"text-gray-500 hover:text-gray-700"},[...o[10]||(o[10]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:le(_,["prevent"]),class:"space-y-4"},[e("div",xe,[e("div",null,[o[11]||(o[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nombre",-1)),f(e("input",{"onUpdate:modelValue":o[2]||(o[2]=n=>s.value.nombre=n),type:"text",class:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",required:"",readonly:r.isViewing,disabled:r.isViewing||d.value,placeholder:"Ingrese el nombre"},null,8,ke),[[y,s.value.nombre]])]),e("div",null,[o[12]||(o[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nombre de Usuario",-1)),f(e("input",{"onUpdate:modelValue":o[3]||(o[3]=n=>s.value.nombre_usuario=n),type:"text",class:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",required:"",readonly:r.isViewing,disabled:r.isViewing||d.value,placeholder:"Ingrese el nombre de usuario"},null,8,he),[[y,s.value.nombre_usuario]])]),e("div",null,[o[13]||(o[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Cargo",-1)),f(e("input",{"onUpdate:modelValue":o[4]||(o[4]=n=>s.value.cargo=n),type:"text",class:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",required:"",readonly:r.isViewing,disabled:r.isViewing||d.value,placeholder:"Ingrese el cargo"},null,8,Ce),[[y,s.value.cargo]])]),e("div",null,[o[15]||(o[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Rol",-1)),f(e("select",{"onUpdate:modelValue":o[5]||(o[5]=n=>s.value.rol=n),class:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",readonly:r.isViewing,disabled:r.isViewing||d.value,required:""},[...o[14]||(o[14]=[e("option",{value:""},"Seleccione un rol",-1),e("option",{value:"Administrador"},"Administrador",-1),e("option",{value:"Comercial"},"Comercial",-1),e("option",{value:"Invitado"},"Invitado",-1)])],8,Ve),[[F,s.value.rol]])]),e("div",null,[o[16]||(o[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Carnet de Identidad",-1)),f(e("input",{"onUpdate:modelValue":o[6]||(o[6]=n=>s.value.carnet_identidad=n),type:"text",inputmode:"numeric",class:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",required:"",readonly:r.isViewing,disabled:r.isViewing||d.value,placeholder:"Ingrese el carnet (11 dígitos)",maxlength:"11",pattern:"\\d{11}",onInput:o[7]||(o[7]=n=>{s.value.carnet_identidad=String(n.target.value||"").replace(/\D+/g,"").slice(0,11)})},null,40,Ee),[[y,s.value.carnet_identidad]])]),r.isViewing?(v(),c("div",Ue,[o[20]||(o[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Activo",-1)),e("button",{type:"button",class:q(["flex items-center px-3 py-2 rounded-lg border",s.value.activo?"bg-green-100 border-green-400 text-green-700":"bg-red-100 border-red-400 text-red-700"]),disabled:""},[s.value.activo?(v(),c("svg",Se,[...o[18]||(o[18]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):(v(),c("svg",je,[...o[19]||(o[19]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])),P(" "+U(s.value.activo?"Activo":"Inactivo"),1)],2)])):(v(),c("div",$e,[o[17]||(o[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Contraseña",-1)),f(e("input",{"onUpdate:modelValue":o[8]||(o[8]=n=>s.value.contrasenna=n),type:"password",class:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",readonly:r.isViewing,disabled:r.isViewing||d.value,placeholder:r.isEditing?"Dejar vacío para mantener la contraseña actual":"Ingrese la contraseña",autocomplete:"new-password",required:!r.isEditing},null,8,Ie),[[y,s.value.contrasenna]])])),r.isEditing&&!r.isViewing?(v(),c("div",_e,[o[23]||(o[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Estado",-1)),e("button",{type:"button",onClick:H,class:q(["flex items-center px-3 py-2 rounded-lg border transition-colors duration-200 hover:opacity-80",s.value.activo?"bg-green-100 border-green-400 text-green-700 hover:bg-green-200":"bg-red-100 border-red-400 text-red-700 hover:bg-red-200"]),disabled:d.value},[s.value.activo?(v(),c("svg",Ae,[...o[21]||(o[21]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):(v(),c("svg",Be,[...o[22]||(o[22]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])),P(" "+U(s.value.activo?"Activo":"Inactivo"),1)],10,Me)])):C("",!0)]),r.isViewing?C("",!0):(v(),c("div",Te,[e("button",{type:"button",onClick:o[9]||(o[9]=n=>g.$emit("update:modelValue",!1)),class:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:d.value}," Cancelar ",8,ze),e("button",{type:"submit",class:"px-4 py-2 text-neutral bg-primary rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed",disabled:d.value},[d.value?(v(),c("span",Ne,[o[24]||(o[24]=e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),P(" "+U(V.isEditing?"Guardando...":"Creando..."),1)])):(v(),c("span",Pe,U(V.isEditing?"Guardar Cambios":"Crear Usuario"),1))],8,De)]))],32),b.value?(v(),c("div",qe,U(b.value),1)):C("",!0)])])):C("",!0)}},Le={class:"min-h-screen bg-gradient-to-br via-secondary/40 from-accent/30 to-neutral"},Re={key:0,class:"fixed top-6 left-1/2 transform -translate-x-1/2 z-[9999] w-full max-w-md px-4 pointer-events-none"},Oe={key:1,class:"fixed top-24 left-1/2 transform -translate-x-1/2 z-[10000] w-full max-w-md px-4 pointer-events-auto"},Ge={class:"w-[95%] mx-auto px-4 py-4 md:py-4 mt-20 md:mt-0"},Ke={class:"bg-white rounded-lg shadow-md p-4"},Fe={class:"mb-4"},Je={class:"relative"},Qe={class:"md:hidden flex justify-between items-center mb-4"},We={class:"w-full"},Xe={class:"relative"},Ye={class:"w-full"},Ze={class:"w-full"},eo={class:"w-full"},oo={class:"w-[95%] mx-auto px-4 py-4"},to={__name:"usuarios",setup(V){const w=i(""),r=i(""),x=i(""),s=i(""),b=i(""),d=i(!1),m=ue(),H=[{key:"id_usuario",label:"ID"},{key:"nombre",label:"Nombre de la Persona"},{key:"carnet_identidad",label:"Carnet Identidad"},{key:"nombre_usuario",label:"Nombre de Usuario"},{key:"cargo",label:"Cargo"},{key:"rol",label:"Rol"},{key:"activo",label:"Activo",cellRenderer:l=>l===!0||l===1||l==="true"||l==="1"?'<span class="px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">Activo</span>':'<span class="px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full">Inactivo</span>'}],_={render(){return N("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-neutral",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])}},g=i(1),o=i(0),n=i(!1),E=i(20),M=i([]),A=async(l=1,t=20,a="",u="",I="",oe="",te="")=>{try{n.value=!0;const R=localStorage.getItem("token"),se={nombre:a,nombre_usuario:u,cargo:I,rol:oe,carnet_identidad:te},O=await fetch(`${m.public.backendHost}/Usuario/filterUsers`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:R,Accept:"application/json"},body:JSON.stringify(se)});if(O.status===401){p.value={title:"Sesión Expirada",description:"Tu sesión ha expirado. Por favor, inicia sesión nuevamente.",type:"warning"},localStorage.removeItem("token"),localStorage.removeItem("user"),setTimeout(()=>{G("/")},3e3);return}if(O.status===403){p.value={title:"Acceso Denegado",description:"No tienes permisos para realizar esta acción o acceder a esta información.",type:"error"};return}const re=await O.json();M.value=re||[],o.value=M.value.length}catch(R){console.error("Error al cargar los usuarios:",R)}finally{n.value=!1}},Q=l=>{g.value=l};ie(()=>{A(1,E.value,"","","","",s.value)});const L=[{name:"Editar",icon:{render(){return N("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])}},handler:l=>{j.value={...l},k.value=!0,B.value=!1,S.value=!0}},{name:"Eliminar",icon:_,handler:l=>{z.value=l,T.value=!0}}];L[0].buttonClass="px-3 py-1 bg-accent text-neutral rounded-md hover:bg-accent/90",L[1].buttonClass="px-3 py-1 bg-danger text-neutral rounded-md hover:bg-danger/90";const W=l=>{j.value=l,k.value=!1,B.value=!0,S.value=!0},$=async()=>{try{n.value=!0,await A(1,E.value,w.value,r.value,x.value,b.value,s.value)}catch(l){console.error("Error al buscar usuarios:",l)}finally{n.value=!1}},p=i(null),S=i(!1),j=i({}),k=i(!1),B=i(!1);function X(){j.value={},k.value=!1,B.value=!1,S.value=!0}const Y=async l=>{try{const t=localStorage.getItem("token"),a=k.value?`${m.public.backendHost}/usuario/UpdateUsuario/${j.value.id_usuario}`:`${m.public.backendHost}/usuario/CreateUsuario`;console.log(l);const u=await fetch(a,{method:k.value?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:t,Accept:"application/json"},body:JSON.stringify(l)});if(u.status===401){p.value={title:"Sesión Expirada",description:"Tu sesión ha expirado. Por favor, inicia sesión nuevamente.",type:"warning"},localStorage.removeItem("token"),localStorage.removeItem("user"),setTimeout(()=>{G("/")},3e3);return}if(u.status===403){p.value={title:"Acceso Denegado",description:"No tienes permisos para realizar esta acción o acceder a esta información.",type:"error"};return}if(u.status===400||u.status===500){const I=await u.json();console.log(I),I.errors?p.value={title:`Errores de validación: ${u.status}`,description:I.errors,type:"error"}:p.value={title:`Error: ${u.status}`,description:JSON.stringify(I),type:"error"};return}u.ok?(k.value?p.value={title:`Entidad Actualizada: ${u.status}`,description:`El usuario ${l.nombre} se actualizó con éxito`,type:"success"}:p.value={title:`Entidad Creada: ${u.status}`,description:`El usuario ${l.nombre} se creo con éxito`,type:"success"},await A(g.value,E.value,w.value,r.value,x.value,b.value,s.value)):console.error("Error al guardar Usuario")}catch(t){console.error("Error:",t)}},T=i(!1),z=i(null);async function Z(){if(T.value=!1,!!z.value)try{const l=localStorage.getItem("token"),t=await fetch(`${m.public.backendHost}/Usuario/DeleteUsuario/${z.value.id_usuario}`,{method:"DELETE",headers:{Authorization:l,Accept:"application/json"}});if(t.status===401){p.value={title:"Sesión Expirada",description:"Tu sesión ha expirado. Por favor, inicia sesión nuevamente.",type:"warning"},localStorage.removeItem("token"),localStorage.removeItem("user"),setTimeout(()=>{G("/")},3e3);return}if(t.status===403){p.value={title:"Acceso Denegado",description:"No tienes permisos para realizar esta acción o acceder a esta información.",type:"error"};return}if(!t.ok)return;await A(g.value,E.value,w.value,r.value,x.value,b.value,s.value)}catch{}finally{z.value=null}}function ee(){const l=M.value.map(u=>({ID:u.id_usuario,Nombre:u.nombre,Usuario:u.nombre_usuario,"Carnet Identidad":u.carnet_identidad||"",Rol:u.rol})),t=K.json_to_sheet(l),a=K.book_new();K.book_append_sheet(a,t,"Usuarios"),ge(a,"usuarios.xlsx")}return(l,t)=>(v(),c("div",Le,[h(de,{title:"Usuarios - Contract Manager",description:"Gestiona usuarios, roles y permisos en Contract Manager.",canonical:"/usuarios"}),h(ce),p.value?(v(),c("div",Re,[h(J,{title:p.value.title,description:p.value.description,type:p.value.type,onClose:t[0]||(t[0]=a=>p.value=null),class:"pointer-events-auto"},null,8,["title","description","type"])])):C("",!0),T.value?(v(),c("div",Oe,[h(pe,{title:"¿Estás seguro que deseas eliminar este usuario?",description:"Esta acción no se puede deshacer.",icon:_,type:"warning",onConfirm:Z,onClose:t[1]||(t[1]=a=>T.value=!1)})])):C("",!0),e("div",Ge,[e("div",Ke,[e("div",Fe,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Buscar por nombre",-1)),e("div",Je,[f(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=a=>w.value=a),placeholder:"Ingrese el nombre...",class:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyup:D($,["enter"])},null,544),[[y,w.value]]),t[10]||(t[10]=e("div",{class:"absolute left-3 top-2.5"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),e("div",Qe,[e("button",{onClick:t[3]||(t[3]=a=>d.value=!d.value),class:"flex items-center text-blue-500 hover:text-blue-600"},[t[13]||(t[13]=e("span",{class:"mr-2"},"Filtros adicionales",-1)),(v(),c("svg",{xmlns:"http://www.w3.org/2000/svg",class:q(["h-5 w-5 transform transition-transform",{"rotate-180":d.value}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...t[12]||(t[12]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),e("div",{class:q(["grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",{"hidden md:grid":!d.value}])},[e("div",We,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Buscar por nombre de usuario",-1)),e("div",Xe,[f(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=a=>r.value=a),placeholder:"Ingrese nombre de usuario...",class:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyup:D($,["enter"])},null,544),[[y,r.value]]),t[14]||(t[14]=e("div",{class:"absolute left-3 top-2.5"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),e("div",Ye,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Cargo",-1)),f(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=a=>x.value=a),placeholder:"Ingrese cargo",class:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyup:D($,["enter"])},null,544),[[y,x.value]])]),e("div",Ze,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Rol",-1)),f(e("select",{"onUpdate:modelValue":t[6]||(t[6]=a=>b.value=a),class:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:$},[...t[17]||(t[17]=[e("option",{value:""},"Todos los roles",-1),e("option",{value:"Administrador"},"Administrador",-1),e("option",{value:"Comercial"},"Comercial",-1),e("option",{value:"Invitado"},"Invitado",-1)])],544),[[F,b.value]])]),e("div",eo,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Carnet de Identidad",-1)),f(e("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=a=>s.value=a),inputmode:"numeric",placeholder:"Solo dígitos (máx. 11)",class:"w-full pl-3 pr-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",maxlength:"11",onInput:t[8]||(t[8]=a=>{s.value=String(a.target.value||"").replace(/\D+/g,"").slice(0,11)}),onKeyup:D($,["enter"])},null,544),[[y,s.value]])])],2),e("div",{class:"flex justify-end mt-4 gap-2"},[e("button",{onClick:$,class:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors"}," Buscar "),e("button",{onClick:ee,class:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors"}," Exportar a Excel ")])])]),e("div",oo,[e("div",{class:"flex justify-between items-center mb-4"},[t[21]||(t[21]=e("h2",{class:"text-2xl font-bold"},"Usuarios",-1)),e("button",{onClick:X,class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center"},[...t[20]||(t[20]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),P(" Nuevo Usuario ",-1)])])]),h(ve,{columns:H,items:M.value,actions:L,"total-items":o.value,"items-per-page":E.value,"current-page":g.value,"is-loading":n.value,onPageChange:Q,onRowClick:W},null,8,["items","total-items","items-per-page","current-page","is-loading"])]),h(He,{modelValue:S.value,"onUpdate:modelValue":t[9]||(t[9]=a=>S.value=a),usuario:j.value,"is-editing":k.value,"is-viewing":B.value,onSubmit:Y},null,8,["modelValue","usuario","is-editing","is-viewing"])]))}},vo=ae(to,[["__scopeId","data-v-8f5d3584"]]);export{vo as default};
