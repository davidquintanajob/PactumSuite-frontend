import{a2 as _,_ as O,r as d,o as R,R as $,x as o,y as r,z as e,I,W as M,E as j,K as T,L as S,F as h,A as N,D as z,q as v}from"./DLx_sSSf.js";const U=_("/usuario.png"),K=_("/perfil.png"),X=_("/cerrar-sesion.png"),q=window.setInterval,H={class:"flex items-center justify-center w-8 h-16"},W=["d"],Y={class:"container mx-auto flex justify-between items-center py-4 px-6 md:flex-col md:items-start md:justify-start md:py-6 md:h-full"},G={class:"hidden md:flex md:items-center relative"},J={class:"relative flex flex-col items-center justify-center"},Q={key:0,class:"absolute left-1/2 top-full mt-0.5 -translate-x-1/2 px-2 py-0.5 rounded-full text-xs bg-success text-neutral shadow z-10"},Z={key:1,class:"absolute left-1/2 top-full mt-0.5 -translate-x-1/2 px-2 py-0.5 rounded-full text-xs bg-danger text-neutral shadow z-10"},ee={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},te={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ne={class:"relative w-full h-full flex items-center justify-center"},se={key:0,class:"absolute left-1/2 top-full mt-0.5 -translate-x-1/2 px-2 py-0.5 rounded-full text-xs bg-green-500 text-white shadow z-10"},le={key:1,class:"absolute left-1/2 top-full mt-0.5 -translate-x-1/2 px-2 py-0.5 rounded-full text-xs bg-red-500 text-white shadow z-10"},oe={class:"hidden md:flex flex-col space-y-4 w-full md:mt-4"},re=["onClick"],ae=["src"],ie={class:"text-[15px]"},ue={key:1,class:"md:hidden fixed top-16 left-0 w-full bg-secondary p-4 space-y-2 transform transition-all duration-300 ease-in-out"},ce=["onClick"],de=["src"],ve=1e4,fe={__name:"Navbar",setup(he){const a=d(null),n=d(!0),s=d(!1),l=d(!1),k=d(!1),b=d(!1);let m=null;const V=()=>{n.value=!n.value,n.value?c():g()},C=[{label:"Entidades",src:"/edificios.png",link:"/entidades"},{label:"Contratos",src:"/contrato.png",link:"/contratos"},{label:"Trabajadores",src:"/lanza-libre.png",link:"/trabajadores"},{label:"Productos",src:"/Productos.png",link:"/productos"},{label:"Facturas",src:"/Facturas.png",link:"/facturas"},{label:"Servicios",src:"/Servicios.png",link:"/servicios"},{label:"Tipos de Contratos",src:"/firmar.png",link:"/tipos-contratos"},{label:"Ofertas",src:"/oferta-de-trabajo.png",link:"/ofertas"},{label:"Usuario",src:"/usuarios.png",link:"/usuarios"}],L=()=>{l.value=!l.value,l.value?g():c()},B=()=>{s.value=!s.value,s.value?g():c()};function P(){v("/")}function A(){localStorage.clear(),window.location.pathname==="/"?window.location.reload():v("/")}function D(){localStorage.getItem("usuario")?v("/perfil"):v("/login")}function E(w){const t=localStorage.getItem("token");n.value=!0,c(),t?v(w):v("/login")}R(()=>{localStorage.getItem("hasVisitedNavbar")||(n.value=!1,localStorage.setItem("hasVisitedNavbar","true")),k.value=!!localStorage.getItem("token"),u=t=>{if(!a.value)return;const i=t.target||t;a.value.contains(i)||(n.value||(n.value=!0),s.value&&(s.value=!1),l.value&&(l.value=!1))},p=t=>{(t.key==="Escape"||t.key==="Esc")&&(n.value||(n.value=!0),s.value&&(s.value=!1),l.value&&(l.value=!1))},document.addEventListener("click",u),document.addEventListener("touchstart",u),document.addEventListener("keydown",p),a.value&&a.value.addEventListener&&(a.value.addEventListener("click",x),a.value.addEventListener("touchstart",x)),m=q(()=>{n.value&&(b.value=!0,setTimeout(()=>{b.value=!1},1200))},5e3)});let u=null,p=null,f=null;function c(){f&&(clearTimeout(f),f=null)}function g(){c(),(!n.value||s.value||l.value)&&(f=setTimeout(()=>{n.value=!0,s.value=!1,l.value=!1,f=null},ve))}function x(){(!n.value||s.value||l.value)&&g()}return $(()=>{u&&(document.removeEventListener("click",u),document.removeEventListener("touchstart",u)),p&&document.removeEventListener("keydown",p),a.value&&a.value.removeEventListener&&(a.value.removeEventListener("click",x),a.value.removeEventListener("touchstart",x)),c(),m&&(clearInterval(m),m=null)}),(w,t)=>(r(),o("div",{class:"relative",ref_key:"navRoot",ref:a},[e("button",{onClick:V,class:"hidden md:flex items-center fixed z-50 bg-accent text-white rounded-r-full h-16 pr-4 shadow-lg hover:bg-accent-dark transition-all duration-300 ease-in-out",style:M({left:n.value?"0px":"255px",right:"auto",width:(n.value,"auto"),top:"200px"})},[e("div",H,[(r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",class:I(["h-5 w-5",b.value?"chevron-wobble":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:n.value?"M13 5l7 7-7 7":"M11 19l-7-7 7-7"},null,8,W)],2))])],4),e("nav",{class:I(["fixed top-0 left-0 w-full bg-gradient-to-r from-primary to-secondary shadow-lg z-40 md:w-64 md:h-screen md:bg-gradient-to-b transition-all duration-300 ease-in-out",{"md:transform md:-translate-x-full":n.value}]),style:{"--nav-width":"16rem"}},[e("div",Y,[e("div",G,[e("h1",{onClick:P,class:"text-white text-3xl md:text-4xl font-sans font-bold tracking-tight mr-4 cursor-pointer select-none"}," PACTUM "),e("div",J,[e("a",{onClick:L,class:"w-12 h-12 rounded-full overflow-hidden border-2 border-white hover:bg-accent hover:border-accent transition flex items-center justify-center cursor-pointer"},[...t[2]||(t[2]=[e("img",{src:U,alt:"Usuario",class:"w-3/4 h-3/4 object-cover transition duration-300 hover:opacity-75 mix-blend-screen invert hover:invert(0)"},null,-1)])]),k.value?(r(),o("span",Q,"Conectado")):(r(),o("span",Z,"Desconectado"))])]),t[6]||(t[6]=e("h1",{class:"text-white text-3xl font-sans font-bold tracking-tight md:hidden"}," SOLUTEL ",-1)),e("button",{onClick:B,class:"md:hidden text-white focus:outline-none transition duration-300"},[s.value?(r(),o("svg",te,[...t[4]||(t[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):(r(),o("svg",ee,[...t[3]||(t[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])]))]),e("a",{onClick:L,class:"w-12 h-12 rounded-full overflow-hidden border-2 border-white hover:bg-accent hover:border-accent transition ml-6 flex items-center justify-center cursor-pointer md:hidden"},[e("div",ne,[t[5]||(t[5]=e("img",{src:U,alt:"Usuario",class:"w-3/4 h-3/4 object-cover transition duration-300 hover:opacity-75 mix-blend-screen invert hover:invert(0)"},null,-1)),k.value?(r(),o("span",se,"Conectado")):(r(),o("span",le,"Desconectado"))])]),e("div",oe,[(r(),o(T,null,S(C,(i,y)=>e("a",{key:y,href:"#",class:"text-white flex items-center px-4 py-3 rounded-lg border border-white transition group hover:bg-accent hover:text-black",onClick:h(F=>{E(i.link),n.value=!0},["prevent"])},[e("img",{src:i.src,alt:"",class:"w-6 h-6 mr-2 invert group-hover:invert-0 transition-all duration-300"},null,8,ae),e("span",ie,N(i.label),1)],8,re)),64))])]),l.value?(r(),o("div",{key:0,class:"fixed inset-0 z-40",onClick:t[1]||(t[1]=i=>l.value=!1)},[e("div",{class:"fixed top-0 right-0 w-64 h-screen bg-secondary p-4 space-y-2 transform transition-all duration-300 ease-in-out",style:M({transform:l.value?"translateX(0)":"translateX(100%)"}),onClick:t[0]||(t[0]=h(()=>{},["stop"]))},[e("a",{href:"/perfil",class:"group flex items-center text-white py-2 rounded-lg hover:bg-accent transition group-hover:text-black",onClick:h(D,["prevent"])},[...t[7]||(t[7]=[e("img",{src:K,alt:"Perfil",class:"w-6 h-6 mr-2 invert group-hover:invert-0 transition-all duration-300"},null,-1),z(" Mi Perfil ",-1)])]),t[9]||(t[9]=e("hr",{class:"border-white"},null,-1)),e("a",{href:"/cerrar-sesion",class:"group flex items-center text-white py-2 rounded-lg hover:bg-accent transition group-hover:text-black",onClick:h(A,["prevent"])},[...t[8]||(t[8]=[e("img",{src:X,alt:"Cerrar Sesión",class:"w-6 h-6 mr-2 invert group-hover:invert-0 transition-all duration-300"},null,-1),z(" Cerrar Sesión ",-1)])])],4)])):j("",!0),s.value?(r(),o("div",ue,[(r(),o(T,null,S(C,(i,y)=>e("a",{key:y,href:"#",class:"flex items-center block text-white text-center py-2 rounded-lg transition group hover:bg-accent",onClick:h(F=>{E(i.link),s.value=!1},["prevent"])},[e("img",{src:i.src,alt:"",class:"w-6 h-6 mr-2 invert group-hover:invert-0 transition-all duration-300"},null,8,de),e("span",null,N(i.label),1)],8,ce)),64))])):j("",!0)],2)],512))}},pe=O(fe,[["__scopeId","data-v-dd1fe168"]]);export{pe as N,q as s};
